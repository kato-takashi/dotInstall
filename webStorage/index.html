<!doctype html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>web Storageの勉強</title>
</head>
<body>
	<h1>web Storage</h1>
	<script>
		(function(){
			if(typeof(Storage) === 'undefined'){
				alert("Web Storageがサポートされていません");
			}else{
				console.log('web Storage OK');
				var ls = localStorage;
				
				ls.setItem('name', 'kato');

				window.addEventListener("storage", function(e){
					//e.key
					//e.oldValue, e.newValue
					//e.strageArea
					//e.url
					alert("change!");
					console.log(e.key + ':' + e.oldValue + '->' + e.newValue);
				});

			}
		})();
	</script>
</body>
</html>